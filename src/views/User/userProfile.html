<article class="content dashboard-page" ng-init="init()">
    <div class="col-xl-12">
        <div class="card sameheight-item" >
            <div class="card-block">
                <!-- Nav tabs -->
                <div class="card-title-block">
                    <h3 class="title">
                        User Profile
                    </h3>
                </div>
                <ul class="nav nav-tabs nav-tabs-bordered">
                    <li class="nav-item">
                        <a href="" class="nav-link" ng-class="currTab == 0 ? 'active' : '' " ng-click="tabChange(0)" data-target="#profileView" data-toggle="tab" aria-controls="profileView" role="tab" aria-expanded="{{currTab == 0 ? 'true' : 'false' }}">Profile View</a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-link" ng-class="currTab == 1 ? 'active' : '' " ng-click="tabChange(1)" data-target="#editProfile" aria-controls="editProfile" data-toggle="tab" role="tab" aria-expanded="{{currTab == 1 ? 'true' : 'false' }}">Edit Profile</a>
                    </li>
                    <li class="nav-item">
                        <a href="" class="nav-link" ng-class="currTab == 2 ? 'active' : '' " ng-click="tabChange(2)" data-target="#changePassword" aria-controls="changePassword" data-toggle="tab" role="tab" aria-expanded="{{currTab == 2 ? 'true' : 'false' }}">Change Password</a>

                </ul>
                <!-- Tab panes -->
                <div class="tab-content tabs-bordered">
                    <div class="tab-pane fade" ng-class="currTab == 0 ? 'active in' : '' " aria-expanded="{{currTab == 0 ? 'true' : 'false' }}" id="profileView">
                        <form role="form" name="userDetailsFormView">
                            <fieldset class="form-group">
                                <label class="control-label" for="inputSuccess1">User Id</label>
                                <input type="text" readonly="readonly" ng-model="user.userId" class="form-control underlined formInput" id="inputSuccess1">
                                <!-- <span class="">Success message.</span> -->
                            </fieldset>
                            <fieldset class="form-group">
                                <label class="control-label" for="inputSuccess1">Designation</label>
                                <input type="text" readonly="readonly" ng-model="user.designation" class="form-control underlined formInput" id="inputSuccess1">
                                <!-- <span class="">Success message.</span> -->
                            </fieldset>
                            <fieldset class="form-group ">
                                <label class="control-label" for="inputSuccess1">First Name</label>
                                <input type="text" readonly="readonly" ng-model="user.fName" class="form-control underlined formInput" id="inputSuccess1">
                                <!-- <span class="">Success message.</span> -->
                            </fieldset>
                            <fieldset class="form-group ">
                                <label class="control-label" for="inputSuccess1">Last Name</label>
                                <input type="text" readonly="readonly" ng-model="user.lName" class="form-control underlined formInput" id="inputSuccess1">
                                <!-- <span class="">Success message.</span> -->
                            </fieldset>
                            <fieldset class="form-group ">
                                <label class="control-label" for="inputSuccess1">Address</label>
                                <input type="text" readonly="readonly" ng-model="user.address" class="form-control underlined formInput" id="inputSuccess1">
                                <!-- <span class="">Success message.</span> -->
                            </fieldset>
                            <fieldset class="form-group ">
                                <label class="control-label" for="inputSuccess1">Email</label>
                                <input type="text" readonly="readonly" ng-model="user.email" class="form-control underlined formInput" id="inputSuccess1">
                                <!-- <span class="">Success message.</span> -->
                            </fieldset>
                            <fieldset class="form-group ">
                                <label class="control-label" for="inputSuccess1">Phone</label>
                                <input type="text" readonly="readonly" ng-model="user.phone" class="form-control underlined formInput" id="inputSuccess1">
                                <!-- <span class="">Success message.</span> -->
                            </fieldset>
                            <fieldset class="form-group ">
                                <label class="control-label" for="inputSuccess1">Status</label>
                                <input type="text" readonly="readonly" ng-model="user.status" class="form-control underlined formInput" id="inputSuccess1">
                                <!-- <span class="">Success message.</span> -->
                            </fieldset>

                        </form>
                    </div>
                    <div class="tab-pane fade" id="editProfile" ng-class="currTab == 1 ? 'active in' : '' " aria-expanded="{{currTab == 1 ? 'true' : 'false' }}" >
                        <form role="form" name="userDetailsFormEdit" ng-submit="updateDetails(userDetailsFormEdit,user)">
                            <fieldset class="form-group ">
                                <label class="control-label" for="inputSuccess1">User Id</label>
                                <label class="control-label form-control formInput" for="inputSuccess1">{{user.userId}}</label>
                                <!-- <input type="text" ng-model="user.userId" class="form-control underlined formInput" id="inputSuccess1"> -->
                                <!-- <span class="">Success message.</span> -->
                            </fieldset>
                            <fieldset class="form-group ">
                                <label class="control-label" for="inputSuccess1">Designation</label>
                                <!-- <input type="text" ng-model="user.designation" class="form-control underlined formInput" id="inputSuccess1"> -->
                              <label class="control-label form-control formInput" for="inputSuccess1">{{user.designation}}</label>
                            </fieldset>
                            <fieldset class="form-group " ng-class="{'has-error':userDetailsFormEdit.fName.$touched && userDetailsFormEdit.fName.$invalid}">
                                <label class="control-label" for="inputSuccess1">First Name</label>
                                <input type="text" name="fName" required ng-model="user.fName" class="form-control underlined formInput" id="inputSuccess1">
                                <span class="has-error formInput" ng-if="userDetailsFormEdit.fName.$touched && userDetailsFormEdit.fName.$error.required">First name required</span>
                            </fieldset>
                            <fieldset class="form-group " ng-class="{'has-error':userDetailsFormEdit.lName.$touched && userDetailsFormEdit.lName.$invalid}">
                                <label class="control-label" for="inputSuccess1">Last Name</label>
                                <input type="text" name="lName" required ng-model="user.lName" class="form-control underlined formInput" id="inputSuccess1">
                                <span class="has-error formInput" ng-if="userDetailsFormEdit.lName.$touched && userDetailsFormEdit.lName.$error.required">Last name required</span>
                            </fieldset>
                            <fieldset class="form-group " ng-class="{'has-error':userDetailsFormEdit.address.$touched && userDetailsFormEdit.address.$invalid}">
                                <label class="control-label" for="inputSuccess1">Address</label>
                                <input type="text" name="address" required ng-model="user.address" class="form-control underlined formInput" id="inputSuccess1">
                                <span class="has-error formInput" ng-if="userDetailsFormEdit.address.$touched && userDetailsFormEdit.address.$error.required">Address required</span>
                            </fieldset>
                            <fieldset class="form-group " ng-class="{'has-error':userDetailsFormEdit.email.$touched && userDetailsFormEdit.email.$invalid}">
                                <label class="control-label" for="inputSuccess1">Email</label>
                                <input type="text" name="email" ng-pattern="/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/" required ng-model="user.email" class="form-control underlined formInput" id="inputSuccess1">
                                <span class="has-error formInput" ng-if="userDetailsFormEdit.email.$touched && userDetailsFormEdit.email.$error.required">Email required</span>
                                <span class="has-error formInput" ng-if="!userDetailsFormEdit.email.$error.required && userDetailsFormEdit.email.$touched && userDetailsFormEdit.email.$invalid">Email is invalid </span>
                            </fieldset>
                            <fieldset class="form-group " ng-class="{'has-error':userDetailsFormEdit.phone.$touched && userDetailsFormEdit.phone.$invalid}">
                                <label class="control-label" for="inputSuccess1">Phone</label>
                                <input type="text" ng-minlength="10" ng-maxlength="10" maxlength="10" ng-model="user.phone" name="phone" required numbers-only class="form-control underlined formInput" id="inputSuccess1">
                                <span class="has-error formInput" ng-if="userDetailsFormEdit.phone.$touched && userDetailsFormEdit.phone.$error.required">Mobile No. required</span>
                                <span class="has-error formInput" ng-if="userDetailsFormEdit.phone.$touched && userDetailsFormEdit.phone.$error.minlength">Mobile No. should be 10 digits</span>
                            </fieldset>
                            <fieldset class="form-group ">
                                <label class="control-label" for="inputSuccess1">Status</label>
                                <!-- <input type="text" ng-model="user.status" class="form-control underlined formInput" id="inputSuccess1"> -->
                                <!-- <span class="">Success message.</span> -->
                                <label class="control-label form-control formInput" for="inputSuccess1">{{user.status}}</label>
                            </fieldset>
                            <fieldset class="form-group">
                                <button type="submit" class="btn btn-primary" ng-disabled="userDetailsFormEdit.$invalid">Submit</button>
                                <button type="button" class="btn btn-secondary-outline" history>Cancel</button>
                            </fieldset>
                        </form>
                    </div>
                    <div class="tab-pane fade" id="changePassword" ng-class="currTab == 2 ? 'active in' : '' " aria-expanded="{{currTab == 2 ? 'true' : 'false' }}" >
                        <form role="form" name="changePasswordForm">
                            <fieldset class="form-group " ng-class="{'has-error':changePasswordForm.oldPwd.$touched && changePasswordForm.oldPwd.$invalid}">
                                <label class="control-label" for="inputSuccess1">Old Password</label>
                                <input type="password" ng-minlength="4" name="oldPwd" ng-model="user.oldPwd" class="form-control underlined formInput" id="inputSuccess1">
                                <span class="has-error formInput" ng-if="changePasswordForm.pwd.$touched && changePasswordForm.pwd.$error.required">password is Required</span>
                                <span class="has-error formInput" ng-if="changePasswordForm.pwd.$touched && changePasswordForm.pwd.$invalid">password is invalid , minimum 4 charecters</span>
                            </fieldset>
                            <fieldset class="form-group " ng-class="{'has-error':changePasswordForm.newPwd.$touched && changePasswordForm.newPwd.$invalid}">
                                <label class="control-label" for="inputSuccess1">New Password</label>
                                <input type="password" ng-model="user.newPwd" ng-minlength="4" name="oldPwd" class="form-control underlined formInput" id="inputSuccess1">
                                <span class="has-error formInput" ng-if="changePasswordForm.newPwd.$touched && changePasswordForm.newPwd.$error.required">password is Required</span>
                                <span class="has-error formInput" ng-if="changePasswordForm.newPwd.$touched && changePasswordForm.newPwd.$invalid">password is invalid , minimum 4 charecters</span>
                            </fieldset>

                            <fieldset class="form-group">
                                <button type="submit" class="btn btn-primary" ng-click="changePassword()">Submit</button>
                                <button type="button" class="btn btn-secondary-outline" history>Cancel</button>
                            </fieldset>
                        </form>
                    </div>

                </div>
            </div>
            <!-- /.card-block -->
        </div>
        <!-- /.card -->
    </div>

</article>
