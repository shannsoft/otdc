<article class="content forms-page" ng-init="addPermissionInit()">
    <div class="row">
        <div class="col-md-12">
            <div class="card card-block sameheight-item">
                <div class="title-block">
                    <h3 class="title">
                        Permission Mannagement
                    </h3>
                </div>
                <form name="addPermissionInitForm" role="addPermissionInitForm">

                    <fieldset class="form-group" ng-class="{'has-error': (addPermissionInitForm.designation.$invalid && addPermissionInitForm.designation.$touched)}">
                        <label class="control-label" for="formGroupExampleInput3">Select Designation</label>
                        <select  ng-options="designation as designation.designationName for designation in addPermission.designations track by designation.designationId" ng-model="addPermission.selectedDesignation" class="form-control formInput" name="designation" required></select>
                    </fieldset>
                    <!-- tender details a custom html tag to show  the tender details -->
                    <permissions ng-if="addPermission.webServices">
                        <div class="card card-primary" ng-repeat="webservice in addPermission.webServices">
                            <div class="card-header">
                                <div class="header-block">
                                    <p class="title">
                                        {{webservice.name}} Permission
                                    </p>
                                </div>
                            </div>
                            <div class="card-block">
                              <!-- Iterating over the object of the web service details of each web service -->
                                <div ng-repeat="(key, value) in webservice" ng-if="key!='name' && key!='designation' && key!='id'">
                                    <label>
                                        <input class="checkbox" type="checkbox" ng-checked="value" ng-model="webservice[key]">
                                        <span>{{key}}-{{value}}</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </permissions>
                    <fieldset class="form-group" >
                        <input type="submit" class="btn btn-success" ng-disabled="addPermissionInitForm.$invalid" ng-click="saveAddPermission(permission)">
                        <button class="btn btn-secondary" history="">Cancel</button>
                    </fieldset>
                </form>
            </div>
        </div>
    </div>
</article>
