<article class="content forms-page" ng-init="init()">
<div class="row">
    <div class="col-md-12">
          <div class="card card-block sameheight-item">
                <div class="title-block">
                     <h3 class="title">
						           User Details
				           	</h3>
                </div>
            <form name="userDetailsForm" role="userDetailsForm">
                   <fieldset class="form-group" ng-class="{'has-error':userDetailsForm.firstName.$touched && userDetailsForm.firstName.$invalid}">
                            <label class="control-label" for="formGroupExampleInput2">First Name</label>
                            <input type="text" name="firstName" ng-model="user.fName" ng-readonly="!isEdit" required class="form-control formInput" id="formGroupExampleInput2" placeholder="Enter first name">
                            <span class="has-error formInput" ng-if="userDetailsForm.firstName.$touched && userDetailsForm.firstName.$error.required">First name required</span>
                            <span class="has-error formInput" ng-if="!userDetailsForm.firstName.$error.required && userDetailsForm.firstName.$touched && userDetailsForm.firstName.$invalid">First name is invalid , please enter alphabet only </span>
                   </fieldset>
                   <fieldset class="form-group" ng-class="{'has-error':userDetailsForm.lastName.$touched && userDetailsForm.lastName.$invalid}">
                            <label class="control-label" for="formGroupExampleInput2">Last Name</label>
                            <input type="text" name="lastName" required ng-model="user.lName" ng-readonly="!isEdit" class="form-control formInput" id="formGroupExampleInput2" placeholder="Placeholder text">
                            <span class="has-error formInput" ng-if="userDetailsForm.lastName.$touched && userDetailsForm.lastName.$error.required">Last name required</span>
                            <span class="has-error formInput" ng-if="!userDetailsForm.lastName.$error.required && userDetailsForm.lastName.$touched && userDetailsForm.lastName.$invalid">Last name is invalid , please enter alphabet only </span>
                    </fieldset>
                    <fieldset class="form-group" ng-class="{'has-error':userDetailsForm.email.$touched && userDetailsForm.email.$invalid}">
                              <label class="control-label" for="formGroupExampleInput2">Email</label>
                              <input type="text" name="email" required ng-model="user.email" ng-readonly="!isEdit" class="form-control formInput" id="formGroupExampleInput2" placeholder="Placeholder text">
                              <span class="has-error formInput" ng-if="userDetailsForm.email.$touched && userDetailsForm.email.$error.required">Email required</span>
                              <span class="has-error formInput" ng-if="!userDetailsForm.email.$error.required && userDetailsForm.email.$touched && userDetailsForm.email.$invalid">Email is invalid , please enter alphabet only </span>

                     </fieldset>
                    <fieldset class="form-group" ng-class="{'has-error':userDetailsForm.address.$touched && userDetailsForm.address.$invalid}">
                           <label class="control-label" for="formGroupExampleInput3">Address</label>
                           <textarea rows="3" name="address" required ng-model="user.address" ng-readonly="!isEdit" class="form-control formInput" id="formGroupExampleInput7"placeholder="Placeholder text"></textarea>
                           <span class="has-error formInput" ng-if="userDetailsForm.address.$touched && userDetailsForm.address.$error.required">Address required</span>
                   </fieldset>
                  <fieldset class="form-group" ng-class="{'has-error':userDetailsForm.phone.$touched && userDetailsForm.phone.$invalid}">
                         <label class="control-label" for="formGroupExampleInput3">Mobile No</label>
                         <input type="text" name="phone" numbers-only required ng-minlength="10" ng-maxlength="10" maxlength="10" ng-model="user.phone" ng-readonly="!isEdit" class="form-control formInput" id="formGroupExampleInput2" placeholder="Placeholder text">
                         <span class="has-error formInput" ng-if="userDetailsForm.phone.$touched && userDetailsForm.phone.$error.required">Mobile No. required</span>
                         <span class="has-error formInput" ng-if="userDetailsForm.phone.$touched && userDetailsForm.phone.$error.minlength">Mobile No. should be 10 digits</span>
                 </fieldset>
                 <fieldset class="form-group" ng-class="{'has-error':userDetailsForm.designation.$touched && userDetailsForm.designation.$invalid}">
                        <label class="control-label" for="formGroupExampleInput3">Desingnation</label>
                        <input type="text" ng-if="!isEdit" required ng-model="user.designation"  ng-readonly="true" class="form-control formInput" id="formGroupExampleInput2" placeholder="Placeholder text">
                        <select name="designation" ng-if="isEdit" ng-options="designation as designation.designationName for designation in designations" ng-model="user.designation" class="form-control formInput">
                        </select>
                        <span class="has-error formInput" ng-if="userDetailsForm.designation.$touched && userDetailsForm.designation.$invalid">Designation is invalid</span>
                </fieldset>
                <fieldset class="form-group">
                    <input type="submit" ng-if="isEdit" class="btn btn-success " ng-click="updateUser(userDetailsForm,user)" ng-disabled="userDetailsForm.$invalid"></input>
                    <button ng-if="!isEdit" class="btn btn-success" ui-sref="userDetails({userId: user.userId,action: 'edit'})" >Edit</button>
                    <button  class="btn btn-secondary"  history>Back</button>
                </fieldset>

            </form>
        </div>
  </div>
</div>
</article>
