var dependency=[],distModules=["ui.router","ui.bootstrap","ngResource","ngStorage","ngAnimate","ngCookies","ngMessages","ngTable"],custModules=["validation","EventHandler","Authentication","WebService"];dependency=dependency.concat(distModules).concat(custModules);var app=angular.module("teknobiz",dependency);app.config(function(a,b,c){function d(a,b,c,d,e,f,g,h,e,i,j){var k=a.defer(),l={TokenId:h[g.getTokenKey()]};return i.token(l,function(a){200==a.StatusCode&&a.Data&&"Success"==a.Status?b(function(){e.loggedin=h[g.getLoggedIn()]=!0,j.setUser(a.Data),k.resolve(),f.go("dashboard",{role:j.getRole()})},100):b(function(){e.loggedin=h[g.getLoggedIn()]=!1,k.resolve()},100)},function(a){b(function(){e.loggedin=h[g.getLoggedIn()]=!1,k.resolve()},100)}),k.promise}function e(a,b,c,d,e,f,g,h,i,j,k){var l=a.defer(),m={TokenId:g[h.getTokenKey()]};return i.token(m,function(a){200==a.StatusCode&&a.Data&&"Success"==a.Status?b(function(){e.loggedin=g[h.getLoggedIn()],j.setUser(a.Data),l.resolve()},100):b(function(){e.loggedin=g[h.getLoggedIn()]=!1,l.resolve(),f.go("login")},100)},function(a){b(function(){e.loggedin=g[h.getLoggedIn()]=!1,l.resolve(),f.go("login")},100)}),l.promise}c.interceptors.push(function(a,b,c,d,e){return{request:function(a){return a.headers=a.headers||{},a.headers.tokenID=d[e.getTokenKey()],a},response:function(c){return 401===c.status&&b.path("/"),c||a.when(c)}}}),b.otherwise("/login"),a.state("dashboard",{templateUrl:"src/views/User/dashboard.html",url:"/dashboard",controller:"UserController",resolve:{loggedout:e}}).state("login",{templateUrl:"src/views/login.html",url:"/login",controller:"LoginController",resolve:{loggedin:d}}).state("profile",{templateUrl:"src/views/User/userProfile.html",url:"/profile",controller:"UserController",resolve:{loggedin:e}}).state("tenderList",{templateUrl:"src/views/Tender/tenderList.html",url:"/tenderList",controller:"TenderListController",resolve:{loggedout:e}}).state("tenderDetails",{templateUrl:"src/views/Tender/TenderDetails.html",url:"/tenderDetails/:tenderId",params:{tenderId:null,action:null},controller:"TenderDetailsController",resolve:{loggedout:e}}).state("addTender",{templateUrl:"src/views/Tender/addTender.html",url:"/addTender",controller:"AddTendorController",resolve:{loggedout:e}}).state("editTender",{templateUrl:"src/views/Tender/editTenderDetails.html",url:"/editTender",resolve:{loggedout:e}}).state("tenderAssign",{templateUrl:"src/views/Tender/tenderAssignment.html",url:"/tenderAssign",controller:"TenderAssignController",params:{tender:null},resolve:{loggedout:e}}).state("UserList",{templateUrl:"src/views/User/userList.html",url:"/UserList",controller:"UserListController",resolve:{loggedout:e}}).state("addUser",{templateUrl:"src/views/User/addUser.html",url:"/addUser",controller:"UserController",resolve:{loggedout:e}}).state("userDetails",{templateUrl:"src/views/User/userDetails.html",url:"/userDetails/:userId",controller:"UserDetailsController",params:{userId:null,action:null},resolve:{loggedout:e}}).state("VendorList",{templateUrl:"src/views/Vendor/vendorList.html",url:"/VendorList",controller:"VendorController",resolve:{loggedout:e}}).state("addVendor",{templateUrl:"src/views/Vendor/addVendor.html",url:"/addVendor",controller:"VendorController",resolve:{loggedout:e}}).state("vendorDetails",{templateUrl:"src/views/Vendor/vendorDetails.html",url:"/vendorDetails",controller:"Vendor_controller",resolve:{loggedout:e}}).state("editVendor",{templateUrl:"src/views/Vendor/editVendor.html",url:"/editVendor",controller:"EditVendorController",params:{vendor:null},resolve:{loggedout:e}}).state("forget_password",{templateUrl:"src/views/forgetpassword.html",url:"/forget_password",controller:"LoginController"}).state("tender_assign",{templateUrl:"src/views/Tender/assignTender.html",url:"/tender_assign",resolve:{loggedout:e}}).state("tender_milestone",{templateUrl:"src/views/Tender/TendorMilestone.html",url:"/tender_milestone",controller:"TenderMilestoneController",resolve:{loggedout:e}}).state("tender_checklist",{templateUrl:"src/views/Tender/TenderCheckList.html",url:"/tender_checklist",resolve:{loggedout:e}})}),app.constant("CONFIG",{HTTP_HOST:"../ep-portal/Server/api.php"}),app.run(function(a,b,c){b.setEnvData(c.envData)}),app.factory("Util",["$rootScope","$timeout",function(a,b){var c={};return a.alerts=[],c.alertMessage=function(c,d){"failed"==c&&(c="warning");var e={type:c,msg:d};a.alerts.push(e),b(function(){a.alerts.splice(a.alerts.indexOf(e),1)},2e3)},c}]),app.constant("Constants",{storagePrefix:"goAppOTDC$",getTokenKey:function(){return this.storagePrefix+"token"},getLoggedIn:function(){return this.storagePrefix+"loggedin"},availableColor:"#3955dd",checkedInColor:"#ff0000",bookedColor:"#434845",alertTime:3e3,getUsername:function(){return this.storagePrefix+"username"},getPassword:function(){return this.storagePrefix+"password"},getIsRemember:function(){return this.storagePrefix+"isRemember"},hashKey:"goAppOTDC",envData:{env:"dev",dev:{basePath:"http://api.otdctender.in"}}}),app.controller("Main_Controller",function(a,b,c,d,e,f,g,h,i,j,k,l){b.$on(i.validationFieldMissing,function(a,b){alert("Event handled",b)}),a.users=[{name:"Suresh Dasari",age:30,location:"Chennai"},{name:"Rohini Alavala",age:29,location:"Chennai"}],b.$on(i.errorInLogin,function(a,b){j.hash("top"),l(),k.alertMessage(b.type,b.message||i.errorInLogin)}),b.$on(i.errorInLogout,function(a,b){j.hash("top"),l(),k.alertMessage(b.type,b.message||i.errorInLogout)}),b.$on(i.eventType.error,function(a,b){j.hash("top"),l(),k.alertMessage(i.eventType.error,b.message)}),b.$on(i.eventType.warn,function(a,b){j.hash("top"),l(),k.alertMessage(i.eventType.warn,b.message)}),b.$on(i.eventType.success,function(a,b){j.hash("top"),l(),k.alertMessage(i.eventType.success,b.message)}),a.close=function(){b.alerts.splice(b.alerts.indexOf(alert),1)},a.forgetpassword=function(){c.go("forget_password")}}),app.controller("AddTendorController",function(a,b,c,d,e,f,g,h,i,j){a.addTendorInit=function(){a.tender={},a.tender.FileData={},a.fileData={}},a.fileSelected=function(b){console.log(">>>>>>>>>>>>>>>>>>>>>>",window.fileData),a.tender.FileData=window.fileData},a.addTendor=function(a,g){g.tokenID=j[e.getTokenKey()],g.actionType="I",console.log(JSON.stringify(g)),b.showPreloader=!0,f.postTendor(g,function(a){c.go("tenderList"),b.showPreloader=!1,d.alertMessage(a.Status.toLocaleLowerCase(),a.Message)},function(a){b.showPreloader=!1,d.alertMessage(a.Status.toLocaleLowerCase(),a.Message)})},a.goTenderAssign=function(){c.go("tender_assign")},a.gotoTenderCheck=function(){c.go("tender_checklist")}}),app.controller("TenderAssignController",function(a,b,c,d,e,f,g,h,i,j,k){a.init=function(){if(!d.tender)return void c.go("tenderList");a.isView=!0,a.tender=d.tender,b.showPreloader=!0;var f={};f.tokenId=i[j.getTokenKey()],f.type="GET_VENDOR_ALL",e.getVendor(f,function(c){a.tender.vendors=c.Data,b.showPreloader=!1},function(a){b.showPreloader=!1,k.alertMessage(a.Status.toLocaleLowerCase(),a.Message)})},a.assignTender=function(a,b){var d={vendorId:b.vendor.vendorId,tenderId:b.tenderId,type:"I"};e.tendorAssign(d,function(a){c.go("tenderList"),k.alertMessage(a.Status.toLocaleLowerCase(),a.Message)},function(a){k.alertMessage(a.Status.toLocaleLowerCase(),a.Message)})}}),app.controller("TenderDetailsController",function(a,b,c,d,e,f,g,h,i,j){a.init=function(){a.isInit=!1,e.action=e.action||"view",a.isView="view"==e.action;var c={tenderId:e.tenderId};b.showPreloader=!0,f.getTendor(c,function(c){a.tender=c.Data,a.isInit=!0,b.showPreloader=!1},function(a){Util.alertMessage(a.Status.toLocaleLowerCase(),a.Message),b.showPreloader=!1})},a.onEditTendor=function(a,b){c.go("tenderDetails",{tenderId:b.tenderId,action:a})},a.showBoq=function(){d.open({animation:!0,size:"lg",controller:"boqController",templateUrl:"src/views/Tender/modals/boqDetailsModal.html",resolve:{boqData:function(){return a.tender.boqData}}})}}),app.controller("boqController",function(a,b,c){a.boqData=c,a.getBoqHeaders=function(){var b=a.boqData[0],c=[];return angular.forEach(b,function(a,b){c.push(b)}),c},a.ok=function(){b.close()},a.cancel=function(){b.dismiss("cancel")}}),app.controller("TenderListController",function(a,b,c,d,e,f,g,h,i){a.tenderListInit=function(){b.showPreloader=!0,d.getTendor(function(c){a.tableParams=new i,a.tableParams.settings({dataset:c.Data}),b.showPreloader=!1},function(a){Util.alertMessage(a.Status.toLocaleLowerCase(),a.Message),b.showPreloader=!1})},a.onAction=function(a,b){switch(a){case"assign":c.go("tenderAssign",{tender:b});break;case"view":case"edit":c.go("tenderDetails",{tenderId:b.tenderId,action:a});break;case"freeze":}}}),app.controller("TenderMilestoneController",function(a,b,c,d,e,f,g){a.$on("$viewContentLoaded",function(b){console.log("view loaded"),a.tenderMilestone={}})}),app.controller("UserController",function(a,b,c,d,e,f,g,h,i,j,k,l){function m(){b.sideBar=f.getSideBarInfo()}a.sideBarTimeout=null,a.init=function(){if(a.user=f.getUser(),m(),b.sideBar?e.cancel(a.sideBarTimeout):a.sideBarTimeout=e(function(){m()},2e3),a.userTabs=[{heading:"View Profile",active:!0},{heading:"Edit Profile",active:!1},{heading:"Change Password",active:!1}],a.currTab=0,d.userId){a.isView="edit"!=d.action;var c={userId:d.userId,TokenId:i[j.getTokenKey()]};k.getUser(c,function(b){a.user=b.Data[0]},function(a){h.alertMessage(l.eventType.error,a.Message)})}},a.updateActiveClass=function(b){angular.forEach(a.sideBar,function(a,c){b==c?a.activeClass="active":a.activeClass=""})},a.tabChange=function(b){a.currTab=b},a.changePassword=function(){var b={UserId:a.user.userId,TokenId:i[j.getTokenKey()],OldPassword:a.user.oldPassword,NewPassword:a.user.newPassword};g.showLoader(),f.serviceCall().getUser(b,function(a){g.hideLoader(),h.alertMessage("success","Password Changed")},function(a){g.hideLoader(),h.alertMessage("danger","Password Change Error")})},a.addUserInit=function(){b.showPreloader=!0,k.getDesignation({TokenId:i[j.getTokenKey()]},function(c){a.designations=c.Data,b.showPreloader=!1},function(a){h.alertMessage("danger",a.Message||"Error in Login"),b.showPreloader=!1})},a.addUser=function(b){a.user.designationId=a.user.designation.designationId,delete a.user.designation,console.log("user ",a.user),a.user.tokenId=i[j.getTokenKey()],k.postUser(a.user,function(a){h.alertMessage(a.Status.toLocaleLowerCase(),a.Message),c.go("UserList")},function(a){h.alertMessage(res.Status.toLocaleLowerCase(),a.Message||"Error in Login")})}}),app.controller("UserDetailsController",function(a,b,c,d,e,f,g,h,i,j,k){a.init=function(){a.isEdit="edit"==d.action;var c={TokenId:j[k.getTokenKey()],UserId:d.UserId};b.showPreloader=!0,e.getUser(c,function(c){a.user=c.Data,b.showPreloader=!1},function(a){i.alertMessage(g.eventType.error,a.message),b.showPreloader=!1})}}),app.controller("UserListController",function(a,b,c,d,e,f,g,h,i,j){a.init=function(){a.userList=[];var c={TokenId:i[j.getTokenKey()],UserId:""};b.showPreloader=!0,d.getUser(c,function(c){a.userList=c.Data,b.showPreloader=!1},function(a){h.alertMessage(f.eventType.error,a.message),b.showPreloader=!1})},a.getUserDetails=function(a){c.go("userDetails",a)}}),app.controller("EditVendorController",function(a,b,c,d,e,f,g,h,i,j,k){a.initEditVendor=function(){d.vendor?a.vendor=d.vendor:c.go("VendorList")},a.updateVendor=function(a,b){console.log(a,b)}}),app.controller("VendorController",function(a,b,c,d,e,f,g,h,i,j){a.onDeleteVendor=function(b){a.selectedVendor=b,a.open()},a.open=function(){a.showModal=!0},a.ok=function(){console.log("vendor to be deleted",a.selectedVendor);var c={};c.tokenId=h[d.getTokenKey()],c.vendorId=a.selectedVendor.vendorId,b.showPreloader=!0,i.deleteVendor(c,function(c){j.alertMessage(c.Status.toLocaleLowerCase(),c.Message),a.initVenderList(),b.showPreloader=!1},function(a){j.alertMessage(a.Status.toLocaleLowerCase(),a.Message),b.showPreloader=!1}),a.showModal=!1,a.selectedVendor=null},a.cancel=function(){console.log("vendor to be deleted cancelled ",a.selectedVendor),a.selectedVendor=null,a.showModal=!1},a.gotoEditVendor=function(a){c.go("editVendor",{vendor:a})},a.initVenderList=function(){var c={};c.tokenId=h[d.getTokenKey()],c.type="GET_VENDOR_ALL",b.showPreloader=!0,i.getVendor(c,function(c){j.alertMessage(c.Status.toLocaleLowerCase(),c.Message),a.vendors=c.Data,b.showPreloader=!1},function(a){j.alertMessage(a.Status.toLocaleLowerCase(),a.Message),b.showPreloader=!1})},a.addVendor=function(a,e){e.tokenId=h[d.getTokenKey()],e.type="I",b.showPreloader=!0,i.postVendor(e,function(a){j.alertMessage(a.Status.toLocaleLowerCase(),a.Message),c.go("VendorList"),b.showPreloader=!1},function(a){j.alertMessage(a.Status.toLocaleLowerCase(),a.Message),b.showPreloader=!1})}}),app.directive("dateViewer",function(){return{require:"ngModel",restrict:"EA",templateUrl:"src/directive/views/datepicker.html",controller:"dateViewerController",scope:{ngModel:"=",minDate:"=",className:"="}}}).controller("dateViewerController",["$scope",function(a){a.open2=function(){a.popup2.opened=!0},a.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],a.format=a.formats[0],a.altInputFormats=["M!/d!/yyyy"],a.popup2={opened:!1},a.open=function(){a.popup.opened=!0},a.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],a.format=a.formats[0],a.altInputFormats=["M!/d!/yyyy"],a.popup={opened:!1}}]),app.directive("fileSelect",[function(){return{restrict:"EA",link:function(a,b,c){b.on("change",function(b){console.log("attrs  ",c.fileData);var d=new FileReader,e=b.target.files[0];d.onloadend=function(){var b=this.result;window.fileData={FileName:e.name,InputStream:b.split(";base64,")[1]},a.fileSelected(window.fileData)},d.readAsDataURL(e)})},scope:{fileSelected:"&",fileData:"="}}}]),app.directive("history",function(){return{restrict:"EA",link:function(a,b,c){$(b[0]).on("click",function(){history.back(),a.$apply()})}}}),app.directive("numbersOnly",function(){return{require:"ngModel",link:function(a,b,c,d){function e(a){if(a){var b=a.replace(/[^0-9]/g,"");return b!==a&&(d.$setViewValue(b),d.$render()),b}}d.$parsers.push(e)}}}),app.filter("getShortName",function(){return function(a){if(a){var b=angular.copy(a);return b=b.split(" "),b=b[0].charAt(0)+b[b.length-1].charAt(0),b.toUpperCase()}}}),angular.module("Authentication",[]).factory("LoginService",function(a,b,c){return b("/",null,{login:c.getApi("login"),logout:c.getApi("logout"),token:c.getApi("token"),forgotPassword:c.getApi("forgotPassword")})}).controller("LoginController",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){b.init=function(){b.user={},i[j.getIsRemember()]&&(b.user.userId=i[j.getUsername()],b.user.Password=g.decode(i[j.getPassword()]),b.user.remember=i[j.getIsRemember()]),b.validationService=n,b.isInit=!0},b.login=function(a){console.log(a),m.getApi("login"),f.login(JSON.stringify(b.user),function(a){g.showLoader(),200==a.StatusCode?(g.hideLoader(),i[j.getTokenKey()]=a.Data.tokenId,i[j.getLoggedIn()]=!0,d.loggedin=i[j.getLoggedIn()],k.setUser(a.Data),b.user.remember?(i[j.getUsername()]=b.user.userId,i[j.getPassword()]=g.encode(b.user.Password),i[j.getIsRemember()]=!0):(delete i[j.getUsername()],delete i[j.getPassword()],delete i[j.getIsRemember()]),c.go("dashboard")):l.alertMessage("danger",a.Message||"Error in Login")},function(a){d.$emit(h.errorInLogin,{type:h.eventType.error})})},b.logout=function(){e.logout({userId:k.getUser().userId},function(a){k.unsetUser(),l.alertMessage("success",a.Message),d.loggedin=!1,c.go("login")},function(a){l.alertMessage("danger",a.Message)})},b.forgotPassword=function(a){var b={userId:1e4,name:"Mukhtar",email:"rajendrasahoodbpb@gmail.com"};f.forgotPassword(b,function(a){l.alertMessage("success",a.Message)},function(a){l.alertMessage("danger",response.Message)})}}),angular.module("EventHandler",[]).factory("Events",function(a){var b={success:"success",error:"error",warn:"warn"};return{eventType:b,validationFieldMissing:"validation Field Missing",validationHintMissing:"validation Hint Missing",successInLogin:"success In Login",successInLogout:"success In Logout",errorInLogin:"error In Login",errorInLogout:"errorInLogout",roleError:"role in Error",errorSideBarData:"error Side Bar Data",userLogged:"User Logged"}}),angular.module("validation",[]).factory("validationService",function(a,b){var c={required:{type1:"Field %fieldName% can not be blank",type2:"Please enter value for %fieldName% "},invalid:{type1:"Invalid Entry for %fieldName%",type2:"Please enter valid input for %fieldName% ",type3:"Please enter valid input for %fieldName% with values %hint%"}};return{getValidationMessage:function(d,e,f,g){if(!(d&&f&&e))return void a.$emit(b.validationFieldMissing,{type:b.eventType.warn});if(!c[d]||!c[d]["type"+e])return void a.$emit(b.validationFieldInvalid,{type:b.eventType.warn});if(c[d]["type"+e].indexOf("%hint%")!=-1&&!g)return void a.$emit(b.validationHintMissing,{type:b.eventType.warn});var h=c[d]["type"+e];return h.replace("%fieldName%",f).replace("%hint%",g)}}}),angular.module("WebService",[]).factory("API",function(a,b,c){return{login:{url:"/api/Login",method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"}},logout:{url:"/api/LogOut",method:"POST"},token:{url:"/api/User",method:"GET","Content-Type":"application/json"},getUser:{url:"/api/User",method:"GET","Content-Type":"application/json"},forgotPassword:{url:"/api/ForgotPassword",method:"POST","Content-Type":"application/json"},addUser:{url:"/api/User",method:"POST","Content-Type":"application/json"},postUser:{url:"/api/User",method:"POST","Content-Type":"application/json"},postVendor:{url:"/api/Vendor",method:"POST","Content-Type":"application/json"},getVendor:{url:"/api/Vendor",method:"POST","Content-Type":"application/json"},deleteVendor:{url:"/api/Vendor",method:"DELETE","Content-Type":"application/json"},getDesignation:{url:"/api/Designation",method:"GET","Content-Type":"application/json"},postTendor:{url:"/api/Tendor",method:"POST","Content-Type":"application/json"},tendorAssign:{url:"/api/TenderAssignToVendor",method:"POST","Content-Type":"application/json"},getTendor:{url:"/api/Tendor",method:"GET","Content-Type":"application/json"}}}).factory("ApiGenerator",function(a,b,c,d){return{getApi:function(a){var b={};return b=angular.copy(c[a]),b.url=d.getBasePath()+b.url,b}}}).factory("ApiCall",function(a,b,c,d,e){return b("/",null,{logout:e.getApi("logout"),getDesignation:e.getApi("getDesignation"),postUser:e.getApi("postUser"),getUser:e.getApi("getUser"),postVendor:e.getApi("postVendor"),getVendor:e.getApi("getVendor"),deleteVendor:e.getApi("deleteVendor"),postTendor:e.getApi("postTendor"),getTendor:e.getApi("getTendor"),tendorAssign:e.getApi("tendorAssign")})}),app.factory("EnvService",function(a,b,c){var d=env={};return{setEnvData:function(a){d=a[a.env]},getEnvData:function(){return d},getBasePath:function(a){return this.getEnvData().basePath}}}),app.factory("UserService",function(a,b,c,d,e,f,g){var h={},i={},j={10000:"superAdmin"},k={"SUPER ADMIN":[{label:"Dashboard",state:"dashboard",fClass:"fa fa-home"},{label:"Tender Management",state:"tenderList",fClass:"fa fa-home"},{label:"User Management",state:"UserList",fClass:"fa fa-th-large"},{label:"Vendor Management",state:"VendorList",fClass:"fa fa-home"},{label:"Tender Milestone",state:"tender_milestone",fClass:"fa fa-th-large"}],1:[{label:"Dashboard",state:"dashboard",fClass:"fa fa-home"},{label:"Tender Management",state:"tenderList",fClass:"fa fa-home"},{label:"User Management",state:"UserList",fClass:"fa fa-th-large"},{label:"Vendor Management",state:"VendorList",fClass:"fa fa-home"},{label:"Tender Milestone",state:"tender_milestone",fClass:"fa fa-th-large"}],Admin:[{label:"Dashboard",state:"dashboard",fClass:"fa fa-home"},{label:"Tender Management",state:"tenderList",fClass:"fa fa-home"},{label:"User Management",state:"UserList",fClass:"fa fa-th-large"},{label:"Vendor Management",state:"VendorList",fClass:"fa fa-home"},{label:"Tender Milestone",state:"tender_milestone",fClass:"fa fa-th-large"}],"sample string 3":[{label:"Dashboard",state:"dashboard",fClass:"fa fa-home"},{label:"Tender Management",state:"tenderList",fClass:"fa fa-home"},{label:"User Management",state:"UserList",fClass:"fa fa-th-large"},{label:"Vendor Management",state:"VendorList",fClass:"fa fa-home"},{label:"Tender Milestone",state:"tender_milestone",fClass:"fa fa-th-large"}],"sample string 3":[{label:"Dashboard",state:"dashboard",fClass:"fa fa-home"},{label:"Tender Management",state:"tenderList",fClass:"fa fa-home"},{label:"User Management",state:"UserList",fClass:"fa fa-th-large"},{label:"Vendor Management",state:"VendorList",fClass:"fa fa-home"},{label:"Tender Milestone",state:"tender_milestone",fClass:"fa fa-th-large"}]};return i.getRole=function(b){var c=(this.getUser(),j[this.getUser().designationId]);return c?c:void a.$emit(f.eventType.error,{message:f.roleError})},i.getUser=function(){return h},i.setUser=function(a){h=a},i.unsetUser=function(){c[g.getTokenKey()]=null,c[g.getLoggedIn()]=!1,a.loggedin=c[g.getLoggedIn()],this.setUser(null)},i.serviceCall=function(){return d("/",null,{getUser:e.getApi("getUser"),getUsers:e.getApi("getUsers"),addUser:e.getApi("addUser")})},i.getSideBarInfo=function(){console.log("user designation ",this.getUser().designationId);var b=k[this.getUser().designation];return b?b:void a.$emit(f.eventType.error,{message:f.errorSideBarData})},i}),app.factory("UtilityService",function(a,b,c,d,e){var f,g,h=[],i={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(a){var b,c,d,e,f,g,h,j="",k=0;for(a=i._utf8_encode(a);k<a.length;)b=a.charCodeAt(k++),c=a.charCodeAt(k++),d=a.charCodeAt(k++),e=b>>2,f=(3&b)<<4|c>>4,g=(15&c)<<2|d>>6,h=63&d,isNaN(c)?g=h=64:isNaN(d)&&(h=64),j=j+this._keyStr.charAt(e)+this._keyStr.charAt(f)+this._keyStr.charAt(g)+this._keyStr.charAt(h);return j},decode:function(a){var b,c,d,e,f,g,h,j="",k=0;for(a=a.replace(/[^A-Za-z0-9+\/=]/g,"");k<a.length;)e=this._keyStr.indexOf(a.charAt(k++)),f=this._keyStr.indexOf(a.charAt(k++)),g=this._keyStr.indexOf(a.charAt(k++)),h=this._keyStr.indexOf(a.charAt(k++)),b=e<<2|f>>4,c=(15&f)<<4|g>>2,d=(3&g)<<6|h,j+=String.fromCharCode(b),64!=g&&(j+=String.fromCharCode(c)),64!=h&&(j+=String.fromCharCode(d));return j=i._utf8_decode(j)},_utf8_encode:function(a){a=a.replace(/rn/g,"n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);d<128?b+=String.fromCharCode(d):d>127&&d<2048?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},_utf8_decode:function(a){for(var b="",c=0,d=c1=c2=0;c<a.length;)d=a.charCodeAt(c),d<128?(b+=String.fromCharCode(d),c++):d>191&&d<224?(c2=a.charCodeAt(c+1),b+=String.fromCharCode((31&d)<<6|63&c2),c+=2):(c2=a.charCodeAt(c+1),c3=a.charCodeAt(c+2),b+=String.fromCharCode((15&d)<<12|(63&c2)<<6|63&c3),c+=3);return b}},j=function(a,b,c){var d=[];return angular.forEach(a,function(a,e){a[b]==c&&d.push(a._id)}),d},k=function(a,b,c,d){var e=[];return angular.forEach(a,function(a,f){b&&a[b]==c?e.push(a[d]):b||e.push(a[d])}),e},l=function(a,b,c,d){var e=[];return angular.forEach(a,function(a,f){a[b]==c&&e.push(a[d])}),e},m=function(){return f},n=function(a){f=a},o=function(a){a&&(a.$setPristine(),a.$setUntouched())},p=function(a){var b=i.encode(a);return b},q=function(a){var b=i.decode(a);return b},r=function(a){h=a},s=function(){return h},t=function(a){g=a},u=function(){return g},v=function(){c.showPreloader=!0},w=function(){c.showPreloader=!1};return{getSelectedIds:j,getSelectedItemByProp:k,getSelectedItemByID:l,getUserSettings:m,setUserSettings:n,resetForm:o,encode:p,decode:q,getSelectedRoom:s,setSelectedRoom:r,setTransaction:t,getTransaction:u,showLoader:v,hideLoader:w}});